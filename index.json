[{"content":"\n# 引子\n在寫淨眼(一個Xposed模塊)時，遇到一個問題，App本體的設置參數如何傳給Hook類？  \n之前我一直用的是文件讀寫的方式，但在調試中我發現：如果被Hook的應用本身無此權限，那麼就無法讀到這個文件。  \n經過多次(兩三個小時而已)的查找，找到了一個解決方案。  \n# XSharedPreferences\nXSharedPreferences是XposedBridge的一部分。它可以讀取任意應用的SharedPreferences。  \n於是就可以在App本體中寫入SharedPreferences，然後從Hook類中讀取...  \n程序本體中：  \n```\n        SharedPreferences mSharedPreferences = getSharedPreferences(\"data\", Context.MODE_WORLD_READABLE);\n        data.edit().putString(\"test\",\"something\");\n```\nXposed Hook類中：  \n```\n        XSharedPreferences xSP=new XSharedPreferences(\"ml.w568w.test\",\"data\");\n        xSP.reload();\n        xSP.makeWorldReadable();\n        String test = xSP.getString(\"test\", \"\");\n```\n# 注意\n1. **必須**使用`Context.MODE_WORLD_READABLE`得到的`SharedPreferences`，`makeWorldReadable()`並不能讓你可以隨意限定`SharedPreferences`的讀取權限。  \n2. 儘可能地不使用`PreferenceManager.getDefaultSharedPreferences(this);`或者`PreferenceActivity`得到的`SharedPreferences`（我在這裏被坑了好久...）  \n","cover":"","link":"a-tiring-xposed-problem.html","preview":"\u003cp\u003eXposed是無底的巨坑\u003c/p\u003e\n","title":"Xposed模塊本體向Hook類傳遞信息的研究"},{"content":"\n# This is w568w.\n一个热衷于Android开发的高中生，Life is short , I choose Geek.\n# 你的博客呢？  \nemmm，美国最大主机提供商倒闭了  \n王八蛋王八蛋主机商吃喝嫖赌吃喝嫖赌  \n欠下了欠下了3.5亿  \n带着我的网站和数据库跑了  \n我们没有没有没有办法办法  \n用GitHub Pages临时临时搭个站点   \n原价都是100多 200多 300多的站点 统统20块  \n20块20块统统20块 统统统统统统20块   \n我们辛辛苦苦写了 辛辛苦苦给你给你写了大半年  \n你你你不给不给备份 你还我还我血汗钱  \n还我血汗钱!\\_(:зゝ∠)\\_  \n \n  \n咳咳，不胡闹了。简单地说，我的主机商OpenShift最近对系统进行了一次全面升级，所有原有的网站都需要进行升级手续，逾期将清空网站数据。然而我并没有注意到这则通知，于是就悲催了。。。\n# 所以最近在干啥？\n学习啊，学习使我快樂。  \n如果有时间的话，可能还会进行  \n* 一些对APP简单的填坑  \n* 筹备新博客  \n* 挖新坑  \n# 怎么找到你捏？\n还是老法子  \n企鹅号：1278297578  \n百度号：1278297578  \nGitHub：@w568w   \nEmail：1278297578(at)qq.com   \n# 友情链接\n只是做个备忘~~  \n[wendao123.cn](http://wendao123.cn/)\n[blog.853lab.com](http://blog.853lab.com/)\n","cover":"","link":"myself.html","preview":"\u003cp\u003e新的博客，新的開始\u003c/p\u003e\n","title":"我與世界"}]